@page
@model BankManagerApp.Pages.CustomerManagement.UpdateCustomerModel
@{
    ViewBag.BodyClass = "homelong";

}

<partial name="_Showcase" model='new { HeaderText = "Edit Customer", ParagraphText = "" }' />


<section class="job-list section pt-0 position-relative pull-top">
    <div class="container">
        <div class="row">
            <div class="col-10 col-lg-11 m-auto">
                <div class="block">
                    <div class="customer-top">
                        <h2 class="customer-name">@Model.Givenname @Model.Surname</h2>

                    </div>
                    <form method="post" asp-page-handler="UpdateProfile" asp-route-customerId="@Model.CustomerId">
                        <div class="form-group">
                            <label asp-for="GenderCustomer">*Gender</label>
                            <select class="form-control" asp-for="GenderCustomer" asp-items="@Model.Genders"></select>
                            <span asp-validation-for="GenderCustomer" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Givenname">*First Name</label>
                            <input class="form-control" asp-for="Givenname">
                            <span asp-validation-for="Givenname" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Surname">*Last Name</label>
                            <input class="form-control" asp-for="Surname">
                            <span asp-validation-for="Surname" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="StreetAddress">*StreetAddress</label>
                            <input class="form-control" asp-for="StreetAddress">
                            <span asp-validation-for="StreetAddress" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="City">*City</label>
                            <input class="form-control" asp-for="City">
                            <span asp-validation-for="City" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="Zipcode">*Zipcode</label>
                            <input class="form-control" asp-for="Zipcode">
                            <span asp-validation-for="Zipcode" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="CountryCustomer">*Country</label>
                            <select class="form-control" asp-for="CountryCustomer" asp-items="@Model.Countries"></select>
                            <span asp-validation-for="CountryCustomer" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="BirthDay" class="">*Date of Birth</label>
                            <input class="form-control" asp-for="BirthDay" type="date">
                            <span class="field-validation-error" asp-validation-for="BirthDay"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="EmailAddress">*Email</label>
                            <input class="form-control" asp-for="EmailAddress">
                            <span asp-validation-for="EmailAddress" class="field-validation-error"></span>
                        </div>
                        <div class="form-group">
                            <label asp-for="TelephoneNumber">*Telephone Number</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">+</span>
                                </div>
                                <select class="form-control col-2" asp-for="TelephoneCountryCodeCustomer" asp-items="@Model.TelephoneCountryCodes">
                                    <option value="">-- Select --</option>
                                </select>
                                <input class="form-control col-10" asp-for="TelephoneNumber">
                            </div>
                            <span asp-validation-for="TelephoneNumber" class="field-validation-error"></span>
                            <span asp-validation-for="TelephoneCountryCodeCustomer" class="field-validation-error"></span>

                        </div>


                        <div class="form-group">
                            <label asp-for="NationalId">National Id</label>
                            <input class="form-control" asp-for="NationalId" placeholder="Optional">
                        </div>
                        <button type="submit" class="form-group btn-primary">Save</button>
                    </form>




                </div>



            </div>
        </div>
    </div>
</section>

<section class="job-list section pt-0">
    <div class="container">
        <div class="row">
            <div class="col-10 col-lg-11 m-auto">
                <div class="block">
                    <div class="text-center">
                        <form method="post" asp-page-handler="NewAccount" asp-route-customerId="@Model.CustomerId">
                            <div class="table-container mt-3">
                                <h3 class="table-header">Accounts</h3>
                                <table class="title table">
                                    <thead>
                                    <tr>
                                        <th class="text-center">Account Id</th> 
                                        <th class="text-center">Balance</th> 
                                    </tr>
                                    </thead>
                                    <tbody>
                                    @foreach (var acco in @Model.Accounts)
                                    {
                                        <tr>
                                            <td class="text-center">@acco.AccountId</td>
                                            <td class="text-center">@acco.Balance @Model.Currency</td>
                                        </tr>
                                    }
                                    <tr>
                                        <td class="text-center">Total Accounts Balance:</td>
                                        <td class="text-center">@Model.TotalCustomerBalance @Model.Currency</td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="text-center mt-3">
                                <button type="submit" class="btn btn-primary">Add New Account</button> 
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>






@section Scripts
    {
    <partial name="Shared/_ValidationScriptsPartial" />
}